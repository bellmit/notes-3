# 一、启动参数

1. 以 - 开头的标准参数，所有的 JVM 都要实现这些参数并向后兼容。
2. -D 设置系统属性，等于`System.setProperty("name", "Mike");`。
3. 以 -X 开头的为非标准参数，基本都是传给 JVM 的，默认 JVM 实现这些参数的功能，但是并不保证所有 JVM 都实现，且不保证向后兼容，可以使用 java -X 命令查看当前 JVM 支持的非标准参数。
4. 以 -XX: 开头为非稳定参数，专门用于控制 JVM 的行为，跟具体的 JVM 实现有关，随时可能会在下个版本取消。
5. -XX:+/-Flags 形式，+/- 是对布尔值进行开关。
6. -XX:key=value 形式，指定某个选项的值。

# 二、内存参数

1. -Xmx：堆内存最大值。
2. -Xms：堆内存最小值。
3. -Xmn：Young区的大小，官方建议设置为堆内存的 1/2 到 1/4。
4. -Xss：设置每个线程栈的字节数，影响栈的深度，与 -XX:ThreadStackSize 参数等价。

Q1：如果什么都不配置会怎么样？

A：

Q2：Xmx 设置为机器内存的多大比较合适？

A：机器内存的 70%左右。

# 三、分析诊断参数

1、-XX:HeapDumpOnOutMemoryError

当 OutOfMemoryError 产生时，即：内存溢出（堆内存或持久代），自动 dump 堆内存。

2、-XX:HeapDumpPath

与 HeapDumpOnOutMemoryError 搭配使用，执行内存溢出时 dump 文件的路径。

3、-XX:OnError

当发生致命错误时执行的脚本，如：写一个脚本记录出错时间，执行一些命令，或者curl一些某个在线报警的 url。

示例：`java -XX:OnError="echo 'Hello Error'" MyApp`。

4、-XX:OnOutOfMemoryError

抛出 OutOfMemoryError 时执行的脚本。

5、-XX:ErrorFile=filename

致命错误的日志文件名，绝对路径或者相对路径。



























